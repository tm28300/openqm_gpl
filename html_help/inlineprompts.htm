<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head><script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if(top.frames.length==0) { top.location.href="index.html?inlineprompts.htm"; }
else { parent.quicksync('a3.6'); }
//-->
</script>
<script type="text/javascript" src="highlight.js"></script>
   <title>Inline Prompts</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="Inline prompts" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Inline Prompts</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="_.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="securitysubroutines.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="patterns.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">Inline prompts provide a means to prompt for data needed by a sentence or paragraph when it is executed. The <a href="data.htm">DATA</a> command does not affect inline prompting which always takes its response from the keyboard. There are also variants on inline prompts that retrieve data from other sources, providing&nbsp; a generalised way to substitute variable items into a command.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">An inline prompt has the general form</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p style="margin: 0px 0px 0px 30px;"><span style="font-weight: bold; color: #000000;">&lt;&lt;</span><span style="color: #000000;">{</span><span style="font-style: italic; color: #000000;">control</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;">} </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;"> {</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">check</span><span style="color: #000000;">}</span><span style="font-weight: bold; color: #000000;">&gt;&gt;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">where</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="90"><span style="font-style: italic; color: #000000;">control</span></td><td><span style="color: #000000;">determines the way in which the prompt is displayed and how it is actioned on subsequent execution of the same statement or another with the same </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;">. Control codes are generally case sensitive.</span></td></tr></table></div><p style="text-indent: -90px; margin: 0px 0px 0px 120px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="90"><span style="font-style: italic; color: #000000;">text</span></td><td><span style="color: #000000;">is the prompt text to be displayed. An equals sign is automatically added to the end of the prompt text.</span></td></tr></table></div><p style="text-indent: -90px; margin: 0px 0px 0px 120px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="90"><span style="font-style: italic; color: #000000;">check</span></td><td><span style="color: #000000;">is used to check whether the response to the prompt is valid. If omitted, no checking is performed.</span></td></tr></table></div><p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-style: italic; color: #000000;">control</span><span style="color: #000000;"> option has two parts; the </span><span style="font-style: italic; color: #000000;">display control</span><span style="color: #000000;"> and the </span><span style="font-style: italic; color: #000000;">response control</span><span style="color: #000000;">. Both parts are optional.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-style: italic; color: #000000;">display control</span><span style="color: #000000;"> may contain any of the following items. Multiple items may be concatenated, separated by commas, and are performed in the order in which they appear.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">@(</span><span style="font-style: italic; color: #000000;">col</span><span style="font-weight: bold; color: #000000;">, </span><span style="font-style: italic; color: #000000;">row</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">specifies the display position for the prompt text. The QMBasic </span><span style="font-weight: bold; color: #000000;"><a href="qmb_at_fun.htm">@()</a></span><span style="color: #000000;"> function variants with a negative value for the first (or only) argument are also supported.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="font-weight: bold; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">@(BELL)</span></td><td><span style="color: #000000;">sounds the audible warning. The </span><span style="font-weight: bold; color: #000000;"><a href="bell.htm">BELL OFF</a></span><span style="color: #000000;"> command will suppress this action.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="font-weight: bold; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">@(CLR)</span></td><td><span style="color: #000000;">Clears the display.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="font-weight: bold; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">@(TOF)</span></td><td><span style="color: #000000;">Positions to the top left of the display.</span></td></tr></table></div><p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-style: italic; color: #000000;">response control</span><span style="color: #000000;"> consists of one of the items listed below. If omitted, the prompt is actioned only for the first occurrence of a prompt with the given </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;">. Subsequent execution of the same inline prompt or another with the same </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;"> will not cause a prompt to be displayed but will use the response to the previous prompt. All prompt responses are discarded on return to the command prompt. The </span><span style="font-weight: bold; color: #000000;"><a href="clear_prompts.htm">CLEAR.PROMPTS</a></span><span style="color: #000000;"> command can be used to discard all inline prompt responses from within a paragraph.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">A</span></td><td><span style="color: #000000;">Always prompt. This is usually needed on the first occurrence of each prompt in a loop so that each iteration of the loop prompts again.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">C</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Used in paragraphs to take the </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">'th token of the sentence that started the paragraph as the response to the prompt. No prompt text will appear unless the implicit response fails to meet the </span><span style="font-style: italic; color: #000000;">check</span><span style="color: #000000;"> conditions. The </span><span style="font-weight: bold; color: #000000;">C</span><span style="color: #000000;"> control code has several extended forms:</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 180px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="60"><span style="font-weight: bold; color: #000000;">C</span><span style="font-style: italic; color: #000000;">m</span><span style="font-weight: bold; color: #000000;">-</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Returns tokens </span><span style="font-style: italic; color: #000000;">m</span><span style="color: #000000;"> to </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 180px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="60"><span style="font-weight: bold; color: #000000;">C</span><span style="font-style: italic; color: #000000;">n</span><span style="font-weight: bold; color: #000000;">+</span></td><td><span style="color: #000000;">Returns tokens </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> onwards.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 180px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="60"><span style="font-weight: bold; color: #000000;">C#</span></td><td><span style="color: #000000;">Returns the number of tokens in the command line.</span></td></tr></table></div><p style="margin: 10px 0px 0px 30px;"><span style="color: #000000;">All formats of the </span><span style="font-weight: bold; color: #000000;">C</span><span style="color: #000000;"> control code may include a default value. For example,</span></p>
<p style="margin: 10px 0px 0px 180px;"><span style="color: #000000;">&lt;&lt;C4:SALES&gt;&gt;</span></p>
<p style="margin: 10px 0px 0px 30px;"><span style="color: #000000;">The default value will be applied if the prompt would otherwise return a null string.</span></p>
<p style="margin: 10px 0px 0px 120px;"><span style="font-family: 'NewCenturySchlbk'; color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">F(</span><span style="font-style: italic; color: #000000;">file</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">key</span><span style="color: #000000;"> {</span><span style="font-weight: bold; color: #000000;">,</span><span style="font-style: italic; color: #000000;">field</span><span style="color: #000000;"> {</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">value</span><span style="color: #000000;"> {</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">subvalue</span><span style="color: #000000;">}}}</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">Use record </span><span style="font-style: italic; color: #000000;">key</span><span style="color: #000000;"> of the data portion of the named </span><span style="font-style: italic; color: #000000;">file</span><span style="color: #000000;"> as the response to the prompt. The optional </span><span style="font-style: italic; color: #000000;">field</span><span style="color: #000000;">, </span><span style="font-style: italic; color: #000000;">value</span><span style="color: #000000;"> and </span><span style="font-style: italic; color: #000000;">subvalue</span><span style="color: #000000;"> allow extraction of a particular part of the record.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">I</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Used in paragraphs to take the </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">'th token of the sentence that started the paragraph as the response to the prompt. If this is a null string or the implicit response fails to meet the </span><span style="font-style: italic; color: #000000;">check</span><span style="color: #000000;"> conditions, an input prompt appears.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">L</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Extracts the next item from select list </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, it defaults to zero. When the select list is exhausted, a null string is returned.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">R</span></td><td><span style="color: #000000;">Prompt repeatedly for input, concatenating data with an intervening space until a blank line is entered.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">R(</span><span style="font-style: italic; color: #000000;">string</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">Prompt repeatedly for input, concatenating the responses with </span><span style="font-style: italic; color: #000000;">string</span><span style="color: #000000;"> between responses until a blank line is entered. The </span><span style="font-style: italic; color: #000000;">string</span><span style="color: #000000;"> may not include field mark characters. An abort will occur if a field mark is specified as part of </span><span style="font-style: italic; color: #000000;">string</span><span style="color: #000000;">.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">S</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Take the </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">'th token of the sentence entered at the command prompt as the response to the prompt. If this is a null string or the implicit response fails to meet the </span><span style="font-style: italic; color: #000000;">check</span><span style="color: #000000;"> conditions, an input prompt appears.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">SUBR(</span><span style="font-style: italic; color: #000000;">name</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">Execute catalogued QMBasic function </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">, returning the result of this function as the value of the inline prompt.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">SUBR(</span><span style="font-style: italic; color: #000000;">name</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">arg1</span><span style="font-weight: bold; color: #000000;">,</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">arg2</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">Execute catalogued QMBasic function </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">, passing in the given arguments and returning the result of this function as the value of the inline prompt. Up to 254 arguments may be specified. These may be enclosed in quotes if necessary to avoid any syntactic ambiguity.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">SYSTEM(</span><span style="font-style: italic; color: #000000;">n</span><span style="font-weight: bold; color: #000000;">)</span></td><td><span style="color: #000000;">Returns the value of the QMBasic </span><span style="font-weight: bold; color: #000000;"><a href="qmb_system.htm">SYSTEM(</a></span><span style="font-style: italic; font-weight: bold; color: #000000;"><a href="qmb_system.htm">n</a></span><span style="font-weight: bold; color: #000000;"><a href="qmb_system.htm">)</a></span><span style="color: #000000;"> function.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">U</span></td><td><span style="color: #000000;">Converts the data entered in the response to the prompt to uppercase. Note that this control has no effect on data from other sources such as the command line, a file or a select list.</span></td></tr></table></div><p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">@</span><span style="font-style: italic; color: #000000;">var</span></td><td><span style="color: #000000;">The name of an @-variable, including user defined names (see the </span><span style="font-weight: bold; color: #000000;"><a href="set.htm">SET</a></span><span style="color: #000000;"> command), may be used to retrieve the value of the given variable. A default value may be applied by use of a prompt of the form:</span></td></tr></table></div><p style="margin: 10px 0px 0px 180px;"><span style="color: #000000;">&lt;&lt;@</span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">:</span><span style="font-style: italic; color: #000000;">value</span><span style="color: #000000;">&gt;&gt;</span></p>
<p style="margin: 10px 0px 0px 150px;"><span style="color: #000000;">The default value will be applied if the prompt would otherwise return a null string.</span></p>
<p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="120"><span style="font-weight: bold; color: #000000;">$</span><span style="font-style: italic; color: #000000;">var</span></td><td><span style="color: #000000;">The name of an operating system environment variable may be used to retrieve the value of the given variable. . A default value may be applied by use of a prompt of the form:</span></td></tr></table></div><p style="margin: 10px 0px 0px 180px;"><span style="color: #000000;">&lt;&lt;$</span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">:</span><span style="font-style: italic; color: #000000;">value</span><span style="color: #000000;">&gt;&gt;</span></p>
<p style="margin: 10px 0px 0px 150px;"><span style="color: #000000;">The default value will be applied if the prompt would otherwise return a null string.</span></p>
<p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<p style="text-indent: -120px; margin: 0px 0px 0px 150px;"><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-weight: bold; color: #000000;">C</span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> and </span><span style="font-weight: bold; color: #000000;">I</span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> control codes are only useful in paragraphs. A command that references a paragraph (PA-type VOC entry) may include additional text that can be accessed using these control codes. In a command that references a stored sentence (S-type VOC entry), any additional text following the sentence name is added to the end of the sentence expansion, making effective use of these control codes impossible. There is no reason why a paragraph cannot contain only a single sentence if these control codes are to be used.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-weight: bold; color: #000000;">&lt;&lt;@</span><span style="font-style: italic; color: #000000;">var</span><span style="font-weight: bold; color: #000000;">&gt;&gt;</span><span style="color: #000000;"> construct allows @variables to be inserted into any command, simplifying paragraph structure. For example:</span></p>
<p style="margin: 10px 0px 10px 30px;"><span style="font-family: 'Courier New'; color: #000000;">SAVE.LIST LIST.&lt;&lt;@USERNO&gt;&gt;</span></p>
<p><span style="color: #000000;">could be used to save a select list with a name that includes the user number to ensure uniqueness for the duration of the user's QM session.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The </span><span style="font-style: italic; color: #000000;">check</span><span style="color: #000000;"> code performs simple data validation and is either a <a href="patterns.htm">pattern match template</a> or an input conversion code. Multiple patterns can be specified separated by the word </span><span style="font-weight: bold; color: #000000;">OR</span><span style="color: #000000;"> with a single space either side. For example,</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p style="margin: 0px 0px 0px 30px;"><span style="font-family: 'Courier New'; color: #000000;">3N'-'4N OR 4N'-'3N</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">would accept numbers of the form 123-4567 or 1234-567.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">Input conversion codes must be enclosed in brackets. Any of the codes that can be used with the </span><span style="font-weight: bold; color: #000000;"><a href="qmb_iconv.htm">ICONV()</a></span><span style="color: #000000;"> function may be used. The check is considered successful if no conversion error occurs. The value returned by the prompt is the actual text entered, not the result of the conversion.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">Entry of QUIT at the keyboard in response to an inline prompt will abort and return to the command prompt. The </span><span style="font-weight: bold; color: #000000;"><a href="at_variables.htm">@ABORT.CODE</a></span><span style="color: #000000;"> variable will be set to 2 as for QUIT entered at other prompts.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">Inline prompts are expanded as the first stage of processing a command. This has two important effects:</span></p>
<p style="margin: 6px 0px 0px 30px;"><span style="color: #000000;">An inline prompt in a <a href="comment.htm">comment</a> line will be evaluated. This slightly strange effect can be useful as a means to perform all prompts at the start of the paragraph rather than as they are needed, perhaps much later.</span></p>
<p style="margin: 6px 0px 0px 30px;"><span style="color: #000000;">An </span><span style="font-weight: bold; color: #000000;"><a href="if.htm">IF</a></span><span style="color: #000000;"> command in a paragraph where the conditioned statement includes an inline prompt will display the prompt before determining whether the condition is true.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">A single command may contain multiple inline prompts. These will be evaluated left to right. Nested inline prompts will be evaluated from the inside outwards.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The response to an inline prompt may not include the left or right double angle bracket symbols (&lt;&lt; and &gt;&gt;) or field marks. Entering a response containing one of these will cause the prompt to be repeated.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">When used as an item to test in an IF command, the prompt will usually need to be enclosed in quotes so that a response that contains spaces or reserved keywords does not cause the command parsing to fail. For example</span></p>
<p style="margin: 6px 0px 6px 30px;"><span style="font-family: 'Courier New'; color: #000000;">IF &lt;&lt;Customer number&gt;&gt; = &quot;&quot; THEN STOP</span></p>
<p><span style="color: #000000;">should be written as</span></p>
<p style="margin: 6px 0px 0px 30px;"><span style="font-family: 'Courier New'; color: #000000;">IF &quot;&lt;&lt;Customer number&gt;&gt;&quot; = &quot;&quot; THEN STOP</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold; color: #000000;">Examples</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">PA</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">SELECT ORDERS SAVING UNIQUE CUST.NO_</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">  WITH DATE AFTER &lt;&lt;Start date&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">LIST CUSTOMERS NAME_</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">  HEADING &quot;Clients ordering after &lt;&lt;Start date&gt;&gt;&quot;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The above paragraph uses two identical inline prompts. The first asks the user to enter a start date for a SELECT operation. The second prompt will not repeat the request as the answer is already known. </span><span style="color: #000000;">Note that the prompt text can contain spaces and that the inline prompt substitution occurs even though it is part of a quoted string.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">PA</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">* &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">RUN OVN.PROCESS</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">OVN.RPT &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">In this example, the inline prompt is in a comment. Although the prompt will be issued at the start of the paragraph, the result is not used until the final command. If the OVN.PROCESS program takes a considerable length of time to execute, this technique allows the prompt to be answered early, without having to wait for the program to complete.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">PA</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">* &lt;&lt;I2,Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">RUN OVN.PROCESS</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">OVN.RPT &lt;&lt;Target file&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">By adding the I2 control option to the previous example, the paragraph will take the target file name from the second word on the command line if present, prompting if it is not given.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">PA</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">LOOP</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;"> &nbsp; IF &lt;&lt;A,Customer&gt;&gt; = &quot;&quot; THEN STOP</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;"> &nbsp; LIST ORDERS WITH CUST.NO = &lt;&lt;Customer&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">REPEAT</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">This paragraph uses a loop in which the user is prompted to enter a customer number. If this is a null string, the paragraph terminates. Otherwise it lists the ORDERS file records for this customer. Note the use of the A option on the first prompt in the loop so that it is repeated on each cycle of the loop. Without this, the paragraph would list the orders for the same customer continuously until stopped by user action.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">SAVE.STACK &lt;&lt;@LOGNAME&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">DISPLAY Domain is &lt;&lt;$USERDOMAIN&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">These two commands show use of the inline prompt mechanism to insert the value of system variables into commands. The first uses an internal QM @variable to retrieve the user's login name, the second accesses the operating system USERDOMAIN environment variable.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">DISPLAY Licence number &lt;&lt;SYSTEM(31)&gt;&gt;</span></p>
<p><span style="font-family: 'Courier New'; color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">This example uses the inline prompt mechanism to access the QM licence number via the QMBasic </span><span style="font-weight: bold; color: #000000;"><a href="qmb_system.htm">SYSTEM()</a></span><span style="color: #000000;"> function.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="font-weight: bold; color: #000000;">See also:</span></p>
<p><span style="font-weight: bold; color: #000000;"><a href="clear_prompts.htm">CLEAR.PROMPTS</a></span></p>

</td></tr></table>

</body>
</html>
