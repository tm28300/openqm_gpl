<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head><script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if(top.frames.length==0) { top.location.href="index.html?commandstack.htm"; }
else { parent.quicksync('a3.1'); }
//-->
</script>
<script type="text/javascript" src="highlight.js"></script>
   <title>The Command Stack</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="Command stack,$COMMAND.STACK" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#649CCC">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">The Command Stack</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="_.htm"><img src="top.gif" border=0 alt="Top"></a>&nbsp;
     <a href="commandparsing.htm"><img src="previous.gif" border=0 alt="Previous"></a>&nbsp;
     <a href="commandeditor.htm"><img src="next.gif" border=0 alt="Next"></a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">Commands entered at the terminal are stored in a </span><span style="font-weight: bold; color: #000000;">command stack</span><span style="color: #000000;"> (to be technically correct, it a queue but historically users have called it a stack).</span><span style="color: #000000;"> They may subsequently be recalled for re-execution by a simple short form command. By default, the stack holds the last 99 commands but this value can be changed by use of the <a href="configparams.htm#cmdstack">CMDSTACK</a> configuration parameter. The list is indexed by number such that the most recent command is numbered as 1, the oldest as 99.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The stack can be manipulated by commands prefixed by a dot character entered at the command prompt. These allow commands on the stack to be edited and also provide facilities to save and restore sequences of commands to and from VOC paragraphs.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The stack manipulation commands are</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.A</span><span style="font-style: italic; color: #000000;">n text</span></td><td><span style="color: #000000;">Append </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;"> to command stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. There must be a space before </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;">. Any additional spaces will be included in the appended data. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, the top entry on the stack (position 1) is updated. The text is displayed after modification.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.C</span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> /</span><span style="font-style: italic; color: #000000;">old</span><span style="color: #000000;">/</span><span style="font-style: italic; color: #000000;">new</span><span style="color: #000000;">/</span><span style="font-weight: bold; color: #000000;">G</span></td><td><span style="color: #000000;">Change string </span><span style="font-style: italic; color: #000000;">old</span><span style="color: #000000;"> to </span><span style="font-style: italic; color: #000000;">new</span><span style="color: #000000;"> in stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, it defaults to one. The delimiters around </span><span style="font-style: italic; color: #000000;">old</span><span style="color: #000000;"> and </span><span style="font-style: italic; color: #000000;">new</span><span style="color: #000000;"> may be any non-space character. The space before the first delimiter may be omitted if the delimiter is not a digit. The optional </span><span style="font-weight: bold; color: #000000;">G</span><span style="color: #000000;"> causes a global replacement, that is, all occurrences of </span><span style="font-style: italic; color: #000000;">old</span><span style="color: #000000;"> are replaced by </span><span style="font-style: italic; color: #000000;">new</span><span style="color: #000000;">. If </span><span style="font-weight: bold; color: #000000;">G</span><span style="color: #000000;"> is not specified, only the first occurrence of </span><span style="font-style: italic; color: #000000;">old</span><span style="color: #000000;"> is changed. The text is displayed after modification.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.D</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Delete stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, the top stack entry is deleted.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.D </span><span style="font-style: italic; color: #000000;">name</span></td><td><span style="color: #000000;">Delete VOC entry </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;"> if it is a sentence or paragraph record. A confirmation prompt is issued prior to deletion.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.I</span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> </span><span style="font-style: italic; color: #000000;">text</span></td><td><span style="color: #000000;">Insert </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;"> as stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is not specified, </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;"> is inserted at the top of the stack. There must be a space before </span><span style="font-style: italic; color: #000000;">text</span><span style="color: #000000;">. Any additional spaces will form part of the inserted entry.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.L</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">List the most recent </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> commands. The value of </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> defaults to 20.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.L </span><span style="font-style: italic; color: #000000;">name</span></td><td><span style="color: #000000;">List VOC entry </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.R</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Recall stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> to the top of the stack without deleting the original copy. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, the top entry is duplicated.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.R </span><span style="font-style: italic; color: #000000;">name</span></td><td><span style="color: #000000;">Read VOC entry </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;"> to the top of the stack if it is a sentence or paragraph. Field one of the VOC entry is discarded and any continuation lines are merged.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.S </span><span style="font-style: italic; color: #000000;">name n m</span></td><td><span style="color: #000000;">Save stack lines </span><span style="font-style: italic; color: #000000;">m</span><span style="color: #000000;"> to </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> as VOC entry </span><span style="font-style: italic; color: #000000;">name</span><span style="color: #000000;">. The value of </span><span style="font-style: italic; color: #000000;">m</span><span style="color: #000000;"> and </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> may be entered in either order. If </span><span style="font-style: italic; color: #000000;">m</span><span style="color: #000000;"> is omitted it defaults to the same value as </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is also omitted, the top line of the stack is saved. The VOC entry will be a sentence if only a single line is saved, otherwise it will be a paragraph.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.U</span><span style="color: #000000;">n</span></td><td><span style="color: #000000;">Convert stack entry </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> to upper case. </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> defaults to one if omitted.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.X</span><span style="font-style: italic; color: #000000;">n</span></td><td><span style="color: #000000;">Execute command </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;">. If </span><span style="font-style: italic; color: #000000;">n</span><span style="color: #000000;"> is omitted, the last command is executed.</span></td></tr></table></div><p style="margin: 10px 0px 0px 210px;"><span style="color: #000000;">The repeated command is copied to the top of the stack except when executing the current topmost command.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.X </span><span style="font-style: italic; color: #000000;">file record</span></td><td><span style="color: #000000;">Execute command stored in the named file and record. This record must have the same format as a VOC record.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 10px 0px 0px 30px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="180"><span style="font-weight: bold; color: #000000;">.?</span></td><td><span style="color: #000000;">Display a help message regarding the stack manipulation commands.</span></td></tr></table></div><p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">For compatibility with other environments, a command can also be saved on the stack without execution by entering it at the command prompt with a question mark as the last character. The question mark is removed.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">The command stack is saved between sessions if the VOC contains a record named </span><span style="font-weight: bold; color: #000000;">$COMMAND.STACK</span><span style="color: #000000;"> with field 1 set to </span><span style="font-weight: bold; color: #000000;">X</span><span style="color: #000000;">. This record is inserted automatically when a new account is created but can be deleted if the stack is not to be saved. For console users on Windows systems, the command stack will be saved into this record on leaving QM and loaded from it on re-entry. For all other Windows users and on other platforms, presence of this record causes the command stack to be saved to, or restored from, a file named as the user's login name in the stacks subdirectory of the account in which QM was entered.</span></p>
<p><span style="color: #000000;">&nbsp;</span></p>
<p><span style="color: #000000;">See also </span><span style="font-weight: bold; color: #000000;"><a href="commandeditor.htm">The Command Editor</a></span></p>

</td></tr></table>

</body>
</html>
